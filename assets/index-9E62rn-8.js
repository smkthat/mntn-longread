(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(t){if(t.ep)return;t.ep=!0;const i=s(t);fetch(t.href,i)}})();class d{init(){this.menuButtonOpen.addEventListener("click",this.toggleMenu.bind(this)),this.menuButtonClose.addEventListener("click",this.toggleMenu.bind(this))}constructor(e,s,o,t){this.activeClass=t,this.menu=e,this.menuButtonOpen=s,this.menuButtonClose=o}toggleMenu(){this.menu.classList.toggle(this.activeClass)}}class u{init(){window.addEventListener("scroll",this.process.bind(this)),window.addEventListener("resize",this.process.bind(this))}constructor(e,s,o){if(!e)throw new Error("Menu must be provided");this.menu=e,this.footer=document.querySelector(".footer"),this.header=document.querySelector(".header"),this.quickNavClassSelector=s,this.quickNavActiveClass=o,this.quickNavItems=document.querySelector(this.quickNavClassSelector).querySelectorAll(".nav-list__item")}getHeaderHeight(){return this.header.getBoundingClientRect().height||0}process(){const e=this.footer.getBoundingClientRect().top,s=window.scrollY||document.documentElement.scrollTop;let o=!1;this.quickNavItems.forEach(t=>{const i=t.getAttribute("data-id");if(i){const n=document.getElementById(i);if(n){const c=n.getBoundingClientRect();c.top-10<=0&&c.bottom>0&&(this.quickNavItems.forEach(h=>h.classList.remove(this.quickNavActiveClass)),t.classList.add(this.quickNavActiveClass),o=!0)}}}),!o&&this.quickNavItems[1].getBoundingClientRect().top>s&&(this.quickNavItems.forEach(t=>t.classList.remove(this.quickNavActiveClass)),this.quickNavItems[0].classList.add(this.quickNavActiveClass)),e<=this.getHeaderHeight()?(this.header.classList.add("header--hidden"),this.menu.classList.remove(this.menu.activeClass)):this.header.classList.remove("header--hidden"),s>0?this.header.classList.add("header--bg"):this.header.classList.remove("header--bg")}}class a{save(e,s){throw console.log(`Saving data with key: ${e}`,s),new Error("Method 'save()' must be implemented.")}load(e){throw console.log(`Loading data for key: ${e}`),new Error("Method 'load()' must be implemented.")}delete(e){throw console.log(`Deleting data for key: ${e}`),new Error("Method 'delete()' must be implemented.")}}class m extends a{save(e,s){localStorage.setItem(e,JSON.stringify(s))}load(e){const s=localStorage.getItem(e);try{return JSON.parse(s)}catch{return s}}delete(e){localStorage.removeItem(e)}}class g{constructor(e){if(!(e instanceof a))throw new Error("IDataStorage must be implemented.");this.storageService=e,this.theme=this.storageService.load("theme")||this.getSystemTheme(),this.applyTheme()}toggleTheme(){this.theme=this.theme==="light"?"dark":"light",this.storageService.save("theme",this.theme),this.applyTheme()}applyTheme(){document.documentElement.setAttribute("data-theme",this.theme)}getSystemTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}}function v(r){const e=new g(new m);return r.querySelector('input[type="checkbox"]').addEventListener("change",()=>e.toggleTheme()),e}const l=new d(document.querySelector(".menu"),document.querySelector(".menu-button.menu-button--open"),document.querySelector(".menu-button.menu-button--close"),"menu--active");l.init();const f=new u(l,".main__quick-nav","nav-list__item--active");f.init();const p=v(document.querySelector(".theme-switcher"));p.applyTheme();
